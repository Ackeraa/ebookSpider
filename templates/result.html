{% extends "layout.html" %}
{% block style %}

{% endblock %}
{% block body %}

    <div class="s011">
		<form action = "/", method = post >
			<div class="inner-form">
				  <div class="basic-search">
					  <div class="input-field">
						  <input id="search" name = "keywords" type="text" placeholder="" />
						  <div class="icon-wrap">
							  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
								  <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 
								  5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 
								  0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
							  </svg>
						  </div>
					  </div>
				  </div>
			</div>
		</form>

		<hr class="mb-5">
		<table id="dtBasicExample" class="table table-striped table-bordered table-sm">
			<thead>
				<tr>
					<th>序号</th>
					<th>书名</th>
					<th>作者</th>
					<th>大小</th>
					<th>类型</th>
					<th>下载</th>
				</tr>
				</thead>
				<tbody>
					{% for book in books %}
					<tr>
						<td>
							{{book['order']}}
						</td>
						<td>
							{{book['name']}}
						</td>
						<td>
							{{book['author']}}
						</td>
						<td>
							{{book['size']}}
						</td>
						<td>
							{{book['type']}}
						</td>
						<td>
							<a href="/preview?link={{book['link']}}" class="btn btn-primary btn-sm">Preview</a>
						</td>
					</tr>

					{% endfor %}
				</tbody>
		</table>
				
		</div>
		<ul>

	</div>


	<script>
		document.querySelector("#task").onkeyup = function(){
			if (document.querySelector("#task").value == ''){
				document.querySelector("#submit").disabled = true;
			}else{
				documetn.querySelector("#submit").disabled = false;
			}
		}
	</script>
	<script type="text/javascript" src="/static/js/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			$('#dtBasicExample').DataTable();
			$('.dataTables_length').addClass('bs-select');
		});
	</script>

{% endblock %}

